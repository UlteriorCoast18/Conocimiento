\documentclass[12pt]{report}
\usepackage[spanish]{babel}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{graphics}
\usepackage{subfigure}
\usepackage{lipsum}
\usepackage{array}
\usepackage{multicol}
\usepackage{enumerate}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage[a4paper, margin = 1.5cm]{geometry}
\usepackage{tikz}
\usepackage{pgffor}
\usepackage{ifthen}
\usepackage{enumitem}

\usetikzlibrary{shapes.multipart}

\newcounter{it}
\newcommand*\watermarktext[1]{\begin{tabular}{c}
    \setcounter{it}{1}%
    \whiledo{\theit<100}{%
    \foreach \col in {0,...,15}{#1\ \ } \\ \\ \\
    \stepcounter{it}%
    }
    \end{tabular}
    }

\AddToHook{shipout/foreground}{
    \begin{tikzpicture}[remember picture,overlay, every text node part/.style={align=center}]
        \node[rectangle,black,rotate=30,scale=2,opacity=0.04] at (current page.center) {\watermarktext{Cristo Daniel Alvarado ESFM\quad}};
  \end{tikzpicture}
}
%En esta parte se hacen redefiniciones de algunos comandos para que resulte agradable el verlos%

\def\proof{\paragraph{Demostración:\\}}
\def\endproof{\hfill$\blacksquare$}

\def\sol{\paragraph{Solución:\\}}
\def\endsol{\hfill$\square$}

%En esta parte se definen los comandos a usar dentro del documento para enlistar%

\newtheoremstyle{largebreak}
  {}% use the default space above
  {}% use the default space below
  {\normalfont}% body font
  {}% indent (0pt)
  {\bfseries}% header font
  {}% punctuation
  {\newline}% break after header
  {}% header spec

\theoremstyle{largebreak}

\newmdtheoremenv[
    leftmargin=0em,
    rightmargin=0em,
    innertopmargin=0pt,
    innerbottommargin=5pt,
    hidealllines = true,
    roundcorner = 5pt,
    backgroundcolor = gray!60!red!30
]{exa}{Ejemplo}[section]

\newmdtheoremenv[
    leftmargin=0em,
    rightmargin=0em,
    innertopmargin=0pt,
    innerbottommargin=5pt,
    hidealllines = true,
    roundcorner = 5pt,
    backgroundcolor = gray!50!blue!30
]{obs}{Observación}[section]

\newmdtheoremenv[
    leftmargin=0em,
    rightmargin=0em,
    innertopmargin=0pt,
    innerbottommargin=5pt,
    rightline = false,
    leftline = false
]{theor}{Teorema}[section]

\newmdtheoremenv[
    leftmargin=0em,
    rightmargin=0em,
    innertopmargin=0pt,
    innerbottommargin=5pt,
    rightline = false,
    leftline = false
]{propo}{Proposición}[section]

\newmdtheoremenv[
    leftmargin=0em,
    rightmargin=0em,
    innertopmargin=0pt,
    innerbottommargin=5pt,
    rightline = false,
    leftline = false
]{cor}{Corolario}[section]

\newmdtheoremenv[
    leftmargin=0em,
    rightmargin=0em,
    innertopmargin=0pt,
    innerbottommargin=5pt,
    rightline = false,
    leftline = false
]{lema}{Lema}[section]

\newmdtheoremenv[
    leftmargin=0em,
    rightmargin=0em,
    innertopmargin=0pt,
    innerbottommargin=5pt,
    roundcorner=5pt,
    backgroundcolor = gray!30,
    hidealllines = true
]{mydef}{Definición}[section]

\newmdtheoremenv[
    leftmargin=0em,
    rightmargin=0em,
    innertopmargin=0pt,
    innerbottommargin=5pt,
    roundcorner=5pt
]{excer}{Ejercicio}[section]

%En esta parte se colocan comandos que definen la forma en la que se van a escribir ciertas funciones%

\newcommand\abs[1]{\ensuremath{\left|#1\right|}}
\newcommand\divides{\ensuremath{\bigm|}}
\newcommand\cf[3]{\ensuremath{#1:#2\rightarrow#3}}
\newcommand\contradiction{\ensuremath{\#_c}}
\newcommand\natint[1]{\ensuremath{\left[\big|#1\big|\right]}}

\begin{document}

    \setcounter{section}{1}
    \setcounter{chapter}{1}

    \begin{excer}
        Let A be a square matrix that is filled with all zeros except for the coordinates where the row number equals the column number. In those cells, the numbers from 1 to n appear in alphabetical order based on each number's English spelling. For example if n=3 then the order would be 1-3-2. Find the trace of A**2
        \begin{enumerate}[label = \textit{(\Alph*)}]
            \item  $n^2$
            \item  $n(n+1)/2$
            \item  $n(n+1)(2n+1)/6$
            \item  $n^3$
        \end{enumerate}
    \end{excer}

    \begin{sol}
        First, lets compute $A^2$. We have for all $i,j=1,...,n$;
        \begin{equation*}
            \begin{split}
                (A^2)_{ i,j}=\sum_{ k=1}^n (A)_{ i,k}(A)_{ k,j}
            \end{split}
        \end{equation*}
        because $A$ is filled with zeros except for the coordinates where the row number equals the column number, when $i\neq j$ we have that:
        \begin{equation*}
            (A)_{ i,k}(A)_{ k,j}=0,\quad\forall k=1,...,n
        \end{equation*}
        wich implies that $(A^2)_{ i,j}=0$ when $i\neq j$. When $i=j$ the sum becomes:
        \begin{equation*}
            \begin{split}
                (A^2)_{ i,i}&=\sum_{ k=1}^n (A)_{ i,k}(A)_{ k,i}\\
                &=\sum_{ k=1}^n (A)_{ i,k}^2\\
                &=(A)_{i,i}^2
            \end{split}
        \end{equation*}
        so now, the trace of $A^2$ would be:
        \begin{equation*}
            \begin{split}
                \textup{Trace}(A)&=\sum_{ i=1}^n (A^2)_{i,i}\\
                &=\sum_{ i=1}^n (A)_{i,i}^2\\
            \end{split}
        \end{equation*}
        because all the numbers from 1 to $n$ appear in the diagonal of $A$, then we are just making the sum of all squared numbers from 1 to $n$, so rearranging all the terrms, the sum becomes:
        \begin{equation*}
            \textup{Trace}(A)=\sum_{ i=1}^n i^2=\frac{n(n+1)(2n+1)}{6}
        \end{equation*}
        so the answer is (C).
    \end{sol}

    \begin{excer}
        Let \(a\) be a prime number bigger than 3 and \(b\) an integer coprime to \(a\). What is the smallest prime number that divides both \(a^4 b^4\) and \(a^2+ab\)?
        \begin{enumerate}[label = \textit{(\Alph*)}]
            \item The smallest prime divisor of b
            \item The smallest prime divisor of ab
            \item a
            \item b
        \end{enumerate}
    \end{excer}

    \begin{sol}
        It can't be (D) because $b$ not necessarly is a prime number. Also, it can't be (A) because the smallest prime divisor of b not necessarly divides $a^2+ab=a(a+b)$.

        If $p$ is prime such that $p\divides a^4b^4$ then because $a$ and $b$ are coprime we must only one of these: $p\divides a$ or $p\divides b$.

        In the second part, we have that $p\divides a(a+b)$. If $p\divides b$ then $p$ cant divide $a$, so $p\divides a+b$ which by linearity implies that $p\divides a$, a contradiction.

        So, $p\divides a$, whichi implies that $p=a$. Therefore the answer is (C).

    \end{sol}

    \begin{excer}
        Let m, n be the 11th and 12-th Fibonacci numbers where the first and second Fibonacci numbers are both 1. How many subgroups of $Z_{m*n}$ are there?
        \begin{enumerate}[label = \textit{(\Alph*)}]
            \item 20
            \item 25
            \item 30
            \item 35
        \end{enumerate}
    \end{excer}

    \begin{sol}
        We compute the Fibonacci numbers up to 11 and 12 position:
        \begin{equation*}
            1, 1, 2, 3, 5, 8, 13, 21, 34. 55, 89, 144,...
        \end{equation*}
        so we must compute all subgroups of $Z_{ 89\cdot 144}$. Recall that:
        \begin{equation*}
            89\cdot 144=2\cdot 2\cdot2\cdot 2\cdot 3\cdot 3\cdot 89 
        \end{equation*}
        we note first that $Z_{ 89\cdot 144}$ is isomorphic to $Z/{ 89\cdot 144}Z$. Let $n=89\cdot 144$. Now, by correspondence theorem, all subgroups of $Z/{n}Z$ (namely $rZ/nZ$) are in correspondence with the subgroups of $Z$ such that:
        \begin{equation*}
            nZ\subseteq rZ\subseteq Z
        \end{equation*}
        the condition $nZ\subseteq rZ$ implies that $r\divides n$, so the set of all subgroups of $Z/nZ$ is:
        \begin{equation*}
            \left\{rZ/nZ\Big|r\divides n \right\}
        \end{equation*}
        so, we must compute all divisors of $n$, with the prime decomposition of $89\cdot 144$ its seen that there are 30 divisors, so the answer is (C).
    \end{sol}

    \begin{excer}
        Let v= [1,2] be a vector in the plane and let $A = 2[[1/sqrt(2), - 1/sqrt(2)], [1/sqrt(2), 1/sqrt(2)]]$. What is $(A^8)v$?
        \begin{enumerate}[label = \textit{(\Alph*)}]
            \item v
            \item 256 v
            \item $[128, 0]$
            \item -v
        \end{enumerate}
    \end{excer}

    \begin{sol}
        Recall the matrix $A$ is:
        \begin{equation*}
            A=2\left[
                \begin{array}{cc}
                    \frac{1}{\sqrt{2}} & -\frac{1}{\sqrt{2}} \\
                    \frac{1}{\sqrt{2}} & \frac{1}{\sqrt{2}} \\
                \end{array}
            \right]
        \end{equation*}
        we remember the form of the rotation matrix of angle $\theta$ in the euclidean plane:
        \begin{equation*}
            R_\theta=\left[
                \begin{array}{cc}
                    \cos\theta & -\sin\theta \\
                    \sin\theta & \cos\theta \\
                \end{array}
            \right]
        \end{equation*}
        so, $A=2R_\theta$ where $\theta=\frac{\pi}{4}$. We observe that:
        \begin{equation*}
            A^8=(2R_\theta)^8=2^8 R_\theta^8=256R_\theta^8
        \end{equation*}
        but rotation matrix has the property that:
        \begin{equation*}
            R_\alpha R_\beta=R_{\alpha+\beta}
        \end{equation*}
        so,
        \begin{equation*}
            R_\theta^8=R_{ 8\theta}=R_{2\pi}=I
        \end{equation*}
        We conclude that $A^8=256 I$, which implies that $(A^8)v=256Iv=256 v$, so the answer is (B).
    \end{sol}

    \begin{excer}
        Consider the subset of the real line A = (-inf, 0]. Which of the following are open sets (there may be more than 1 correct answer)?
        \begin{enumerate}[label = \textit{(\Alph*)}]
            \item $ A \cap [0,1]$
            \item $A \cap (-inf,-1)$
            \item $A \cup \left\{1/2\right\}$
            \item $A \cup (-1,1)$
            \item $A \cup (0,1,1)$
        \end{enumerate}
    \end{excer}

    \begin{sol}
        (A) cannot be, because closed sets are closed under intersection, also with (C) but now with union of sets. (E) es not even a subset of the real line.

        Now, $A\subseteq (-inf,-1)$, so $A\cap(-inf,-1)=A$, it can't be open because $A$ is closed, which discards (B)

        Finally, $A\cup(-1,1)=(-inf,1)$, which is open. So the answer is (D).
    \end{sol}

\end{document}